"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var satellite = require("satellite.js");
var tleLine1 = '1 25544U 98067A   13149.87225694  .00009369  00000-0  16828-3 0  9031', tleLine2 = '2 25544 051.6485 199.1576 0010128 012.7275 352.5669 15.50581403831869';
var satellites = (function () {
    function satellites() {
    }
    satellites.prototype.run = function () {
        var lookAngles = satellite.ecfToLookAngles(observerGd, positionEcf);
        var satrec = satellite.twoline2satrec(tleLine1, tleLine2);
        var positionAndVelocity = satellite.propagate(satrec, new Date());
        var positionEci = positionAndVelocity.position;
        var velocityEci = positionAndVelocity.velocity;
        var observerGd = {
            longitude: -122.0308 / 180 * Math.PI,
            latitude: 36.9613422 / 180 * Math.PI,
            height: 0.370
        };
        var gmst = satellite.gstimeFromDate(new Date());
        var positionEcf = satellite.eciToEcf(positionEci, gmst);
        var observerEcf = satellite.geodeticToEcf(observerGd);
        var positionGd = satellite.eciToGeodetic(positionEci, gmst);
        exports.lookAngles = satellite.ecfToLookAngles(observerGd, positionEcf);
        var satelliteX = positionEci.x, satelliteY = positionEci.y, satelliteZ = positionEci.z;
        var azimuth = lookAngles.azimuth, elevation = lookAngles.elevation, rangeSat = lookAngles.rangeSat;
        console.log(azimuth + " and " + elevation + " and " + rangeSat);
        var longitude = positionGd.longitude, latitude = positionGd.latitude, height = positionGd.height;
        var longitudeStr = satellite.degreesLong(longitude), latitudeStr = satellite.degreesLat(latitude);
    };
    return satellites;
}());
exports.satellites = satellites;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsd0NBQTBDO0FBQzFDLElBQUksUUFBUSxHQUFHLHVFQUF1RSxFQUNsRixRQUFRLEdBQUcsdUVBQXVFLENBQUM7QUFHdkY7SUFBQTtJQStCQSxDQUFDO0lBOUJRLHdCQUFHLEdBQVY7UUFDRSxJQUFJLFVBQVUsR0FBTSxTQUFTLENBQUMsZUFBZSxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUN2RSxJQUFJLE1BQU0sR0FBRyxTQUFTLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMxRCxJQUFJLG1CQUFtQixHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNsRSxJQUFJLFdBQVcsR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLENBQUM7UUFDL0MsSUFBSSxXQUFXLEdBQUcsbUJBQW1CLENBQUMsUUFBUSxDQUFDO1FBQy9DLElBQUksVUFBVSxHQUFHO1lBQ2IsU0FBUyxFQUFFLENBQUMsUUFBUSxHQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRTtZQUNuQyxRQUFRLEVBQUUsVUFBVSxHQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRTtZQUNuQyxNQUFNLEVBQUUsS0FBSztTQUNoQixDQUFDO1FBQ0YsSUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7UUFDaEQsSUFBSSxXQUFXLEdBQUssU0FBUyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUQsSUFBSSxXQUFXLEdBQUssU0FBUyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN4RCxJQUFJLFVBQVUsR0FBTSxTQUFTLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvRCxPQUFPLENBQUMsVUFBVSxHQUFNLFNBQVMsQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRTNFLElBQUksVUFBVSxHQUFHLFdBQVcsQ0FBQyxDQUFDLEVBQzFCLFVBQVUsR0FBRyxXQUFXLENBQUMsQ0FBQyxFQUMxQixVQUFVLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLE9BQU8sR0FBSyxVQUFVLENBQUMsT0FBTyxFQUM5QixTQUFTLEdBQUcsVUFBVSxDQUFDLFNBQVMsRUFDaEMsUUFBUSxHQUFJLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUUsT0FBTyxHQUFHLFNBQVMsR0FBRyxPQUFPLEdBQUcsUUFBUSxDQUFDLENBQUM7UUFDL0QsSUFBSSxTQUFTLEdBQUcsVUFBVSxDQUFDLFNBQVMsRUFDaEMsUUFBUSxHQUFJLFVBQVUsQ0FBQyxRQUFRLEVBQy9CLE1BQU0sR0FBTSxVQUFVLENBQUMsTUFBTSxDQUFDO1FBQ2xDLElBQUksWUFBWSxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQy9DLFdBQVcsR0FBSSxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFDSCxpQkFBQztBQUFELENBQUMsQUEvQkQsSUErQkM7QUEvQlksZ0NBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBzYXRlbGxpdGUgZnJvbSBcInNhdGVsbGl0ZS5qc1wiO1xyXG52YXIgdGxlTGluZTEgPSAnMSAyNTU0NFUgOTgwNjdBICAgMTMxNDkuODcyMjU2OTQgIC4wMDAwOTM2OSAgMDAwMDAtMCAgMTY4MjgtMyAwICA5MDMxJyxcclxuICAgIHRsZUxpbmUyID0gJzIgMjU1NDQgMDUxLjY0ODUgMTk5LjE1NzYgMDAxMDEyOCAwMTIuNzI3NSAzNTIuNTY2OSAxNS41MDU4MTQwMzgzMTg2OSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIHNhdGVsbGl0ZXN7XHJcbiAgcHVibGljIHJ1bigpIHtcclxuICAgIHZhciBsb29rQW5nbGVzICAgID0gc2F0ZWxsaXRlLmVjZlRvTG9va0FuZ2xlcyhvYnNlcnZlckdkLCBwb3NpdGlvbkVjZik7XHJcbiAgICB2YXIgc2F0cmVjID0gc2F0ZWxsaXRlLnR3b2xpbmUyc2F0cmVjKHRsZUxpbmUxLCB0bGVMaW5lMik7XHJcbiAgICB2YXIgcG9zaXRpb25BbmRWZWxvY2l0eSA9IHNhdGVsbGl0ZS5wcm9wYWdhdGUoc2F0cmVjLCBuZXcgRGF0ZSgpKTtcclxuICAgIHZhciBwb3NpdGlvbkVjaSA9IHBvc2l0aW9uQW5kVmVsb2NpdHkucG9zaXRpb247XHJcbiAgICB2YXIgdmVsb2NpdHlFY2kgPSBwb3NpdGlvbkFuZFZlbG9jaXR5LnZlbG9jaXR5O1xyXG4gICAgdmFyIG9ic2VydmVyR2QgPSB7XHJcbiAgICAgICAgbG9uZ2l0dWRlOiAtMTIyLjAzMDggLzE4MCAqIE1hdGguUEksXHJcbiAgICAgICAgbGF0aXR1ZGU6IDM2Ljk2MTM0MjIgLzE4MCAqIE1hdGguUEksXHJcbiAgICAgICAgaGVpZ2h0OiAwLjM3MFxyXG4gICAgfTtcclxuICAgIHZhciBnbXN0ID0gc2F0ZWxsaXRlLmdzdGltZUZyb21EYXRlKG5ldyBEYXRlKCkpO1xyXG4gICAgdmFyIHBvc2l0aW9uRWNmICAgPSBzYXRlbGxpdGUuZWNpVG9FY2YocG9zaXRpb25FY2ksIGdtc3QpO1xyXG4gICAgdmFyIG9ic2VydmVyRWNmICAgPSBzYXRlbGxpdGUuZ2VvZGV0aWNUb0VjZihvYnNlcnZlckdkKTtcclxuICAgIHZhciBwb3NpdGlvbkdkICAgID0gc2F0ZWxsaXRlLmVjaVRvR2VvZGV0aWMocG9zaXRpb25FY2ksIGdtc3QpO1xyXG4gICAgZXhwb3J0cy5sb29rQW5nbGVzICAgID0gc2F0ZWxsaXRlLmVjZlRvTG9va0FuZ2xlcyhvYnNlcnZlckdkLCBwb3NpdGlvbkVjZik7XHJcblxyXG4gICAgdmFyIHNhdGVsbGl0ZVggPSBwb3NpdGlvbkVjaS54LFxyXG4gICAgICAgIHNhdGVsbGl0ZVkgPSBwb3NpdGlvbkVjaS55LFxyXG4gICAgICAgIHNhdGVsbGl0ZVogPSBwb3NpdGlvbkVjaS56O1xyXG4gICAgdmFyIGF6aW11dGggICA9IGxvb2tBbmdsZXMuYXppbXV0aCxcclxuICAgICAgICBlbGV2YXRpb24gPSBsb29rQW5nbGVzLmVsZXZhdGlvbixcclxuICAgICAgICByYW5nZVNhdCAgPSBsb29rQW5nbGVzLnJhbmdlU2F0O1xyXG4gICAgY29uc29sZS5sb2coYXppbXV0aCsgXCIgYW5kIFwiICsgZWxldmF0aW9uICsgXCIgYW5kIFwiICsgcmFuZ2VTYXQpO1xyXG4gICAgdmFyIGxvbmdpdHVkZSA9IHBvc2l0aW9uR2QubG9uZ2l0dWRlLFxyXG4gICAgICAgIGxhdGl0dWRlICA9IHBvc2l0aW9uR2QubGF0aXR1ZGUsXHJcbiAgICAgICAgaGVpZ2h0ICAgID0gcG9zaXRpb25HZC5oZWlnaHQ7XHJcbiAgICB2YXIgbG9uZ2l0dWRlU3RyID0gc2F0ZWxsaXRlLmRlZ3JlZXNMb25nKGxvbmdpdHVkZSksXHJcbiAgICAgICAgbGF0aXR1ZGVTdHIgID0gc2F0ZWxsaXRlLmRlZ3JlZXNMYXQobGF0aXR1ZGUpO1xyXG4gIH1cclxufVxyXG4iXX0=