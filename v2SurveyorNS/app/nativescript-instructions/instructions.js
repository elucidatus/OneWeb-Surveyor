"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var isStart = false;
var isEleAbove0 = false;
var isPressed = false;
var largeDeltaAz = false;
var oldAz = 0;
var page;
var pt1, pt2, pt3, pt4;
function trigger1(mPage) {
    if (!isStart) {
        page = mPage;
        pt1 = page.getViewById("pt1");
        pt2 = page.getViewById("pt2");
        pt3 = page.getViewById("pt3");
        pt4 = page.getViewById("pt4");
        pt1.translateY = 250;
        pt2.translateY = 250;
        pt3.translateY = 250;
        pt4.translateY = 250;
    }
}
exports.trigger1 = trigger1;
function trigger2(ele) {
    if (!isEleAbove0) {
        isEleAbove0 = -ele > 0;
        if (isEleAbove0) {
            fadeaway(pt1, pt2);
        }
    }
}
exports.trigger2 = trigger2;
function trigger3(az) {
    if (!isPressed) {
        fadeaway(pt2, pt3);
    }
    oldAz = az;
    isPressed = true;
}
exports.trigger3 = trigger3;
function trigger4(az) {
    if (!largeDeltaAz && isPressed) {
        largeDeltaAz = Math.abs(oldAz - az) > 20;
        if (largeDeltaAz) {
            end(pt3, pt4);
        }
    }
}
exports.trigger4 = trigger4;
function fadeaway(oldView, newView) {
    return oldView.animate({
        opacity: 0,
        duration: 1000
    }).then(function () {
        newView.animate({
            opacity: 1,
            duration: 1000
        });
    });
}
function end(oldView, newView) {
    oldView.animate({
        opacity: 0,
        duration: 1000
    }).then(function () {
        newView.animate({
            opacity: 1,
            duration: 2000
        }).then(function () {
            newView.animate({
                opacity: 0,
                duration: 2000
            });
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zdHJ1Y3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW5zdHJ1Y3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxPQUFPLEdBQVksS0FBSyxDQUFDO0FBQzdCLElBQUksV0FBVyxHQUFZLEtBQUssQ0FBQztBQUNqQyxJQUFJLFNBQVMsR0FBWSxLQUFLLENBQUM7QUFDL0IsSUFBSSxZQUFZLEdBQVksS0FBSyxDQUFDO0FBQ2xDLElBQUksS0FBSyxHQUFXLENBQUMsQ0FBQztBQUV0QixJQUFJLElBQUksQ0FBQztBQUNULElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0FBRXZCLGtCQUF5QixLQUFLO0lBQzVCLEVBQUUsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNaLElBQUksR0FBRyxLQUFLLENBQUM7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUNyQixHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUNyQixHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUNyQixHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztJQUN2QixDQUFDO0FBQ0gsQ0FBQztBQVpELDRCQVlDO0FBRUQsa0JBQXlCLEdBQUc7SUFDMUIsRUFBRSxDQUFBLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLFdBQVcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDdkIsRUFBRSxDQUFBLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUNmLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDckIsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBUEQsNEJBT0M7QUFFRCxrQkFBeUIsRUFBRTtJQUN6QixFQUFFLENBQUEsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDZCxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDRCxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ1gsU0FBUyxHQUFHLElBQUksQ0FBQztBQUNuQixDQUFDO0FBTkQsNEJBTUM7QUFFRCxrQkFBeUIsRUFBRTtJQUN6QixFQUFFLENBQUEsQ0FBQyxDQUFDLFlBQVksSUFBSSxTQUFTLENBQUMsQ0FBQSxDQUFDO1FBQzdCLFlBQVksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDdkMsRUFBRSxDQUFBLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUNoQixHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQztBQVBELDRCQU9DO0FBRUQsa0JBQWtCLE9BQU8sRUFBRSxPQUFPO0lBQ2hDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ3JCLE9BQU8sRUFBRSxDQUFDO1FBQ1YsUUFBUSxFQUFFLElBQUk7S0FDZixDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ04sT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUNkLE9BQU8sRUFBRSxDQUFDO1lBQ1YsUUFBUSxFQUFFLElBQUk7U0FDZixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxhQUFhLE9BQU8sRUFBRSxPQUFPO0lBQzNCLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDZCxPQUFPLEVBQUUsQ0FBQztRQUNWLFFBQVEsRUFBRSxJQUFJO0tBQ2YsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNOLE9BQU8sQ0FBQyxPQUFPLENBQUM7WUFDZCxPQUFPLEVBQUUsQ0FBQztZQUNWLFFBQVEsRUFBRSxJQUFJO1NBQ2YsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNOLE9BQU8sQ0FBQyxPQUFPLENBQUM7Z0JBQ2QsT0FBTyxFQUFDLENBQUM7Z0JBQ1QsUUFBUSxFQUFFLElBQUk7YUFDZixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImxldCBpc1N0YXJ0OiBib29sZWFuID0gZmFsc2U7XHJcbmxldCBpc0VsZUFib3ZlMDogYm9vbGVhbiA9IGZhbHNlO1xyXG5sZXQgaXNQcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XHJcbmxldCBsYXJnZURlbHRhQXo6IGJvb2xlYW4gPSBmYWxzZTtcclxubGV0IG9sZEF6OiBudW1iZXIgPSAwO1xyXG5cclxubGV0IHBhZ2U7XHJcbmxldCBwdDEsIHB0MiwgcHQzLCBwdDQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlcjEobVBhZ2UpIHtcclxuICBpZighaXNTdGFydCkge1xyXG4gICAgcGFnZSA9IG1QYWdlO1xyXG4gICAgcHQxID0gcGFnZS5nZXRWaWV3QnlJZChcInB0MVwiKTtcclxuICAgIHB0MiA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJwdDJcIik7XHJcbiAgICBwdDMgPSBwYWdlLmdldFZpZXdCeUlkKFwicHQzXCIpO1xyXG4gICAgcHQ0ID0gcGFnZS5nZXRWaWV3QnlJZChcInB0NFwiKTtcclxuICAgIHB0MS50cmFuc2xhdGVZID0gMjUwO1xyXG4gICAgcHQyLnRyYW5zbGF0ZVkgPSAyNTA7XHJcbiAgICBwdDMudHJhbnNsYXRlWSA9IDI1MDtcclxuICAgIHB0NC50cmFuc2xhdGVZID0gMjUwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXIyKGVsZSkge1xyXG4gIGlmKCFpc0VsZUFib3ZlMCkge1xyXG4gICAgaXNFbGVBYm92ZTAgPSAtZWxlID4gMDtcclxuICAgIGlmKGlzRWxlQWJvdmUwKSB7XHJcbiAgICAgIGZhZGVhd2F5KHB0MSwgcHQyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyMyhheikge1xyXG4gIGlmKCFpc1ByZXNzZWQpIHtcclxuICAgIGZhZGVhd2F5KHB0MiwgcHQzKTtcclxuICB9XHJcbiAgb2xkQXogPSBhejtcclxuICBpc1ByZXNzZWQgPSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlcjQoYXopIHtcclxuICBpZighbGFyZ2VEZWx0YUF6ICYmIGlzUHJlc3NlZCl7XHJcbiAgICBsYXJnZURlbHRhQXogPSBNYXRoLmFicyhvbGRBei1heikgPiAyMDtcclxuICAgIGlmKGxhcmdlRGVsdGFBeikge1xyXG4gICAgICBlbmQocHQzLCBwdDQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmFkZWF3YXkob2xkVmlldywgbmV3Vmlldykge1xyXG4gIHJldHVybiBvbGRWaWV3LmFuaW1hdGUoe1xyXG4gICAgb3BhY2l0eTogMCxcclxuICAgIGR1cmF0aW9uOiAxMDAwXHJcbiAgfSkudGhlbigoKT0+e1xyXG4gICAgbmV3Vmlldy5hbmltYXRlKHtcclxuICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgZHVyYXRpb246IDEwMDBcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbmQob2xkVmlldywgbmV3Vmlldykge1xyXG4gIG9sZFZpZXcuYW5pbWF0ZSh7XHJcbiAgICBvcGFjaXR5OiAwLFxyXG4gICAgZHVyYXRpb246IDEwMDBcclxuICB9KS50aGVuKCgpID0+e1xyXG4gICAgbmV3Vmlldy5hbmltYXRlKHtcclxuICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgZHVyYXRpb246IDIwMDBcclxuICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICBuZXdWaWV3LmFuaW1hdGUoe1xyXG4gICAgICAgIG9wYWNpdHk6MCxcclxuICAgICAgICBkdXJhdGlvbjogMjAwMFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiJdfQ==