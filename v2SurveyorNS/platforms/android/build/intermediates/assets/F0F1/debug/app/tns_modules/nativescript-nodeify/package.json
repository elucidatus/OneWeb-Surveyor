{
  "_args": [
    [
      {
        "raw": "nativescript-nodeify",
        "scope": null,
        "escapedName": "nativescript-nodeify",
        "name": "nativescript-nodeify",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "C:\\Users\\hnguyen\\ut-site-surveyor\\v2SurveyorNS"
    ]
  ],
  "_from": "nativescript-nodeify@latest",
  "_id": "nativescript-nodeify@0.5.5",
  "_inCache": true,
  "_location": "/nativescript-nodeify",
  "_nodeVersion": "6.9.4",
  "_npmOperationalInternal": {
    "host": "packages-18-east.internal.npmjs.com",
    "tmp": "tmp/nativescript-nodeify-0.5.5.tgz_1492708580531_0.13759892550297081"
  },
  "_npmUser": {
    "name": "eddyverbruggen",
    "email": "eddyverbruggen@gmail.com"
  },
  "_npmVersion": "3.10.10",
  "_phantomChildren": {},
  "_requested": {
    "raw": "nativescript-nodeify",
    "scope": null,
    "escapedName": "nativescript-nodeify",
    "name": "nativescript-nodeify",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/nativescript-nodeify/-/nativescript-nodeify-0.5.5.tgz",
  "_shasum": "7f9bd303ebb4efd8e99ca72fb76030ea92f7eed7",
  "_shrinkwrap": null,
  "_spec": "nativescript-nodeify",
  "_where": "C:\\Users\\hnguyen\\ut-site-surveyor\\v2SurveyorNS",
  "author": {
    "name": "Eddy Verbruggen",
    "email": "eddyverbruggen@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/EddyVerbruggen/nativescript-nodeify/issues"
  },
  "dependencies": {
    "assert": "^1.4.1",
    "browserify-zlib": "^0.1.4",
    "buffer": "5.0.2",
    "constants-browserify": "^1.0.0",
    "crypto-browserify": "^3.0.0",
    "domain-browser": "^1.1.7",
    "events": "~1.1.0",
    "http-browserify": "~1.0.0",
    "https-browserify": "~0.0.0",
    "nativescript-hook": "^0.2.1",
    "nativescript-node": "git+https://github.com/EddyVerbruggen/nativescript-node.git#dc93ab4",
    "nativescript-randombytes": "1.0.0",
    "nativescript-xml2js": "^0.1.0",
    "path-browserify": "0.0.0",
    "process": "0.11.9",
    "punycode": "^2.0.1",
    "querystring-es3": "^0.2.1",
    "readable-stream": "^2.2.2",
    "replace-in-file": "^2.3.2",
    "stream-browserify": "^2.0.0",
    "stream-http": "^2.5.0",
    "string_decoder": "0.10.31",
    "url": "^0.11.0",
    "util": "~0.10.1"
  },
  "description": "Attempts to make most npm modules 'just work' with NativeScript",
  "devDependencies": {
    "prompt": "^1.0.0",
    "rimraf": "^2.5.0",
    "tns-core-modules": "^2.3.0",
    "tns-platform-declarations": "^2.3.0"
  },
  "directories": {},
  "dist": {
    "shasum": "7f9bd303ebb4efd8e99ca72fb76030ea92f7eed7",
    "tarball": "https://registry.npmjs.org/nativescript-nodeify/-/nativescript-nodeify-0.5.5.tgz"
  },
  "gitHead": "0056ff084f53e2bf350b5a5d80d3e51ab31f1314",
  "homepage": "https://github.com/EddyVerbruggen/nativescript-nodeify",
  "keywords": [
    "ecosystem:nativescript",
    "NativeScript",
    "Node",
    "npm",
    "Android",
    "iOS",
    "crypto"
  ],
  "license": "MIT",
  "main": "nodeify",
  "maintainers": [
    {
      "name": "eddyverbruggen",
      "email": "eddyverbruggen@gmail.com"
    }
  ],
  "name": "nativescript-nodeify",
  "nativescript": {
    "platforms": {
      "android": "2.3.0",
      "ios": "2.3.0"
    },
    "plugin": {
      "nan": true,
      "pan": true,
      "core3": true,
      "category": "Processing"
    },
    "hooks": [
      {
        "type": "before-prepare",
        "script": "patch-npm-packages.js",
        "inject": true
      }
    ],
    "tns-ios": {
      "version": "2.5.0"
    }
  },
  "optionalDependencies": {},
  "readme": "# NativeScript Nodeify\nMakes most npm packages compatible with NativeScript\n\n## Q & A\n#### Q. WTF?\nA. Good question, glad you asked! You can't just use any npm package with NativeScript as they may depend\non built-in Node modules (`fs`, `path`, `crypto` to name but a few).\nThose modules aren't plain old JavaScript files so they can't be executed in the {N} runtimes.\n\n#### Q. So how does this plugin overcome that situation?\nA. You can install dependencies as normal, and this plugin as well, then at build time\na hook installed by this plugin will scan and modify your modules as it sees fit to make them {N}-compatible.\n\n#### Q. Lol. Wut? Modify my precious modules!?\nA. Yes. The hook looks at the packages installed in `node_modules` and for each dependency it does a few things:\n* Look for a `browser` node in their `package.json` and find-replaces any matching `require()` calls in that package and its dependencies.\n* If there's a `main` replacement in the `browser` node it also takes care of that.\n* If any of the dependencies (and this can go deeeeeeeeeeep - remember `left-pad`?) contains something we need to shim, we will based on [this list](https://github.com/EddyVerbruggen/nativescript-nodeify/blob/master/shims.json).\n* There's more trickery and there may be more needed, so this list is a bit evolving atm..\n\n#### Q. But doesn't browserify / Webpack solve this for us?\nA. Not in this case, at least not without further modifications. Think modules that don't have a `browser` node in their `package.json`, or modules that do but shim their node dependency with something that needs a real browser..\nFeel free to submit a PR for a nicer implementation, but this is the best I could think of.\n\n#### Q. Not bad actually, but doesn't come with a performance hit?\nA. Thanks. And good question. Most importantly, at runtime this should make no difference as you're not 'requiring'\nmore that you were already, just different implementations (that actually work, I hope).\nA build time you will see a few seconds added to your build (but it shouldn't affect livesync).\nThe hook skips checking `tns-core-modules` and anything module starting with `nativescript` already, but build-performance could be better. It's just not the main priority for this first release.\n\n## Installation\nFrom the command prompt go to your app's root folder and execute:\n\n```sh\ntns plugin add nativescript-nodeify\n```\n## Usage\nInclude this in your code before requiring the problematic npm module.\n\n```js\nrequire(\"nativescript-nodeify\");\n```\n\n## Demo app\n[The demo](https://github.com/EddyVerbruggen/nativescript-nodeify) tests a few popular\nlibraries that depend on Node built-in modules which would normally not work in a NativeScript runtime environment.\n\nRun the demo app from the root of the project: `npm run demo.ios` or `npm run demo.android`.\n\n## Know issues\nThis plugin isn't perfect, but it tried to solve issues for as many of the gazillion npm packages out there. A few issues are known, if yours is not in this list please [create an issue](https://github.com/EddyVerbruggen/nativescript-nodeify/issues/new).\n\n* Like Browserify we're using shims to fill the gaps between Node and the browser, but unlike Browserify shims we're not running in a browser, so some API's may not be available. Anything that touches the DOM for instance.  \n* On Android you may run into trouble when using npm packages ending with `.js`, [an issue has been submitted](https://github.com/NativeScript/android-runtime/issues/666) to the {N} Android runtime repo.\n* The http shim isn't perfect (like [usage of `global.location.protocol.search`](https://github.com/jhiesey/stream-http/blob/master/index.js#L17)), so may need to do what [RN did](https://github.com/tradle/react-native-http) and roll our own (if anyone needs it).\n\n## Recipies\nTo get you started with a few popular npm modules, here's some recipies. Please share your own by sending a PR to this repo! \n\nAll recipies assume you've already done:\n\n```bash\n$ tns create awssdk\n$ cd awssdk\n$ tns platform add ios\n$ tns platform add android\n$ tns plugin add nativescript-nodeify\n```\n\n### `node-uuid`\n```bash\n$ npm install node-uuid --save\n```\nBoom! Done.\n\n### `jsonwebtoken`\n```bash\n$ npm install jsonwebtoken --save\n```\nBoom! Done. Again.\n\n### `aws-sdk` or `amazon-cognito-identity-js` (which includes `aws-sdk`)\nThis one requires a bit more setup, but it's not too bad:\n\n> Never check in your AWS keys! Bots scan public repos and will create server instances you'll get billed for.\n\nDepending on what you need:\n\n```bash\n$ npm install aws-sdk --save\n```\n\nor\n\n```bash\n$ npm install amazon-cognito-identity-js --save\n```\n\nTo parse XML returned from AWS correctly (fi. when listing S3 bucket contents) we need\nto patch an additional library because the browser shim expects an.. ehm.. browser.\n\nSo open you app's `package.json` and add this `nodeify` node to the existing `nativescript` node:\n```json\n{\n  \"nativescript\": {\n    \"nodeify\": {\n      \"package-dependencies\": {\n        \"aws-sdk\": [\n          {\n            \"xml/browser_parser\": \"xml/node_parser\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\nThen in your code for `amazon-cognito-identity-js`:\n```js\n// require this to fix an issue with xhr event states\nrequire('nativescript-nodeify');\n\n// register a user (here's a bit, but see the demo and https://github.com/aws/amazon-cognito-identity-js for details)\nvar AmazonCognitoIdentity = require('amazon-cognito-identity-js');\nvar CognitoUserPool = AmazonCognitoIdentity.CognitoUserPool;\nvar userPool = new CognitoUserPool({UserPoolId: 'foo', ClientId: 'bar'});\n```\n\nNow just use AWS as usual:\n```js\n// then require AWS and interact with s3, dynamo, whatnot\nvar AWS = require('aws');\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/EddyVerbruggen/nativescript-nodeify.git"
  },
  "scripts": {
    "demo.android": "cd demo && tns run android",
    "demo.ios": "cd demo && rm -rf node_modules && npm i && tns run ios",
    "postinstall": "node postinstall.js",
    "preparedemo": "cd demo && tns plugin add .. && tns install",
    "preuninstall": "node preuninstall.js",
    "setup": "npm i && cd demo && npm i && cd .. && cd demo && tns plugin add .. && cd ..",
    "test.android": "cd demo && tns test android",
    "test.ios": "cd demo && tns test ios --emulator",
    "test.ios.device": "cd demo && tns test ios"
  },
  "version": "0.5.5"
}
